<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Search Outlets</title>
    <style type="text/css">
        #Text1 {
            width: 298px;
        }
        #Button1 {
            width: 76px;
        }
    </style>


    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
    <script type="text/javascript">

      $(function() {
        $('#Button1').click(getContacts);
      });

      function getContacts() {
        $.ajax({
          type: "GET",
          url: "/search",
          data: { query: $("#Text1").val() },
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function (response) {
              var contacts = response;
              $('#output').empty();
              $.each(contacts, function (index, contact) {
                  $('#output').append(
                      '<p>' +
                        '<b>Name:</b> ' + contact.Name + '<br/>' +
                        '<b>Title:</b> ' + contact.Title + '<br/>' +
                        '<b>Outlet:</b> ' + contact.Outlet + '<br/>' +
                        '<b>Profile:</b> ' + contact.Profile + '<br/>' +
                      '</p>'
                    );
              });
          },
          failure: function (msg) {
            $('#output').text(msg);
          }
        });
      }
    </script>

</head>
<body>
    <form id="form1">

        <div id="title" style="font-family: Arial, Helvetica, sans-serif; font-size: x-large">

            Search Outlets

        </div>

        <div id="search">
            <input id="Text1" type="text" />
            <input id="Button1" type="button" value="Search" /><br />
        </div>

        <div id="output" style="font-family: Arial, Helvetica, sans-serif;">
        </div>
    </form>
</body>
</html>
